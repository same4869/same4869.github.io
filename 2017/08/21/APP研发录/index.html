<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>ã€ŠAPPç ”å‘å½•ã€‹è¯»ä¹¦ç¬”è®° | Same&#39;s Blog</title>
  <meta name="keywords" content=" Android ">
  <meta name="description" content="ã€ŠAPPç ”å‘å½•ã€‹è¯»ä¹¦ç¬”è®° | Same&#39;s Blog">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="æˆ‘ä»¬åœ¨åšAndroid SDKçš„æ—¶å€™ï¼Œæ€»æ˜¯ä»¥jaræˆ–è€…aarçš„æ–¹å¼è®©ä¸šåŠ¡æ–¹ä¾èµ–ï¼Œåœ¨è¿™æ¡æµæ°´çº¿å»ºç«‹èµ·æ¥çš„æ—¶å€™ï¼Œæ‰‹åŠ¨å»æŠŠä¾èµ–åŒ…ä¸¢ç»™ä¸šåŠ¡æ–¹æ˜¾ç„¶ä¸æ˜¯æ­£ç¡®çš„æ‰“å¼€æ–¹å¼ï¼Œè€Œä½œä¸ºå…¬å¸å±‚é¢ï¼Œä¸Šä¼ åˆ°jcenteråˆä¼šé¡¾å¿Œåˆ°å®‰å…¨çš„æ•æ„Ÿé—®é¢˜ï¼Œäºæ˜¯å°±æœ‰äº†ç§æœ‰mavenä»“åº“çš„å‡ºç°ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œæœ¬æ–‡æè¿°å°±æ˜¯ä¸€ä¸ªå»ºç«‹ç§æœ‰mavençš„è¿‡ç¨‹ï¼Œå·¥å…·å‡†å¤‡å¥½äº†ï¼Œæ€»ä¼šæœ‰ç”¨åˆ°çš„æ—¶å€™ã€‚">
<meta name="keywords" content="Android">
<meta property="og:type" content="article">
<meta property="og:title" content="æ‰‹æ’¸Android-Nexusç§æœ‰Mavenä»“åº“GOGOGO">
<meta property="og:url" content="http://same4869.github.io/2019/03/22/æ‰‹æ’¸Android-Nexusç§æœ‰Mavenä»“åº“GOGOGO/index.html">
<meta property="og:site_name" content="Same&#39;s Blog">
<meta property="og:description" content="æˆ‘ä»¬åœ¨åšAndroid SDKçš„æ—¶å€™ï¼Œæ€»æ˜¯ä»¥jaræˆ–è€…aarçš„æ–¹å¼è®©ä¸šåŠ¡æ–¹ä¾èµ–ï¼Œåœ¨è¿™æ¡æµæ°´çº¿å»ºç«‹èµ·æ¥çš„æ—¶å€™ï¼Œæ‰‹åŠ¨å»æŠŠä¾èµ–åŒ…ä¸¢ç»™ä¸šåŠ¡æ–¹æ˜¾ç„¶ä¸æ˜¯æ­£ç¡®çš„æ‰“å¼€æ–¹å¼ï¼Œè€Œä½œä¸ºå…¬å¸å±‚é¢ï¼Œä¸Šä¼ åˆ°jcenteråˆä¼šé¡¾å¿Œåˆ°å®‰å…¨çš„æ•æ„Ÿé—®é¢˜ï¼Œäºæ˜¯å°±æœ‰äº†ç§æœ‰mavenä»“åº“çš„å‡ºç°ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œæœ¬æ–‡æè¿°å°±æ˜¯ä¸€ä¸ªå»ºç«‹ç§æœ‰mavençš„è¿‡ç¨‹ï¼Œå·¥å…·å‡†å¤‡å¥½äº†ï¼Œæ€»ä¼šæœ‰ç”¨åˆ°çš„æ—¶å€™ã€‚">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-01.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-02.png">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-03.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-04.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-05.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-06.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-07.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-08.jpg">
<meta property="og:image" content="http://same4869.github.io/img/015/20190322-09.jpg">
<meta property="og:updated_time" content="2024-03-18T07:24:07.767Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="æ‰‹æ’¸Android-Nexusç§æœ‰Mavenä»“åº“GOGOGO">
<meta name="twitter:description" content="æˆ‘ä»¬åœ¨åšAndroid SDKçš„æ—¶å€™ï¼Œæ€»æ˜¯ä»¥jaræˆ–è€…aarçš„æ–¹å¼è®©ä¸šåŠ¡æ–¹ä¾èµ–ï¼Œåœ¨è¿™æ¡æµæ°´çº¿å»ºç«‹èµ·æ¥çš„æ—¶å€™ï¼Œæ‰‹åŠ¨å»æŠŠä¾èµ–åŒ…ä¸¢ç»™ä¸šåŠ¡æ–¹æ˜¾ç„¶ä¸æ˜¯æ­£ç¡®çš„æ‰“å¼€æ–¹å¼ï¼Œè€Œä½œä¸ºå…¬å¸å±‚é¢ï¼Œä¸Šä¼ åˆ°jcenteråˆä¼šé¡¾å¿Œåˆ°å®‰å…¨çš„æ•æ„Ÿé—®é¢˜ï¼Œäºæ˜¯å°±æœ‰äº†ç§æœ‰mavenä»“åº“çš„å‡ºç°ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„è§£å†³ä»¥ä¸Šé—®é¢˜ï¼Œæœ¬æ–‡æè¿°å°±æ˜¯ä¸€ä¸ªå»ºç«‹ç§æœ‰mavençš„è¿‡ç¨‹ï¼Œå·¥å…·å‡†å¤‡å¥½äº†ï¼Œæ€»ä¼šæœ‰ç”¨åˆ°çš„æ—¶å€™ã€‚">
<meta name="twitter:image" content="http://same4869.github.io/img/015/20190322-01.jpg">


<link rel="icon" href="https://img0.baidu.com/it/u=2938741800,3443602320&fm=253&fmt=auto&app=138&f=JPEG?w=268&h=268">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0"></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.1.0"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="undefined">
  <input class="theme_blog_path" value="">
  <input id="theme_shortcut" value="true">
  <input id="theme_highlight_on" value="true">
  <input id="theme_code_copy" value="true">
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="https://img0.baidu.com/it/u=2938741800,3443602320&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=268&amp;h=268"/>
</a>
<div class="author">
    <span>Same</span>
</div>

<div class="icon">
    
        
            <a title="github"
               href="https://github.com/same4869"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-github"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="jianshu"
               href="http://www.jianshu.com/u/4165fccb3734"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-jianshu"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="email"
               href="mailto:same4869@126.com"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-email"></use>
                    </svg>
                
            </a>
        
    
        
            <a title="qq"
               href="http://wpa.qq.com/msgrd?v=3&uin=119123059&site=qq&menu=yes"
               target="_blank">
                
                    <svg class="iconfont-svg" aria-hidden="true">
                        <use xlink:href="#icon-qq"></use>
                    </svg>
                
            </a>
        
    
</div>





<ul>
    <li>
        <div class="all active" data-rel="All">All
            
                <small>(17)</small>
            
        </div>
    </li>
    
        
            
    <li>
        <div data-rel="Android">
            
            Android
            <small>(11)</small>
        </div>
        
    </li>

                undefined
            
        
    
        
            
    <li>
        <div data-rel="å…¶ä»–æŠ€æœ¯">
            
            å…¶ä»–æŠ€æœ¯
            <small>(4)</small>
        </div>
        
    </li>

                undefined
            
        
    
        
            
    <li>
        <div data-rel="ä¸ªäººéšç¬”">
            
            ä¸ªäººéšç¬”
            <small>(2)</small>
        </div>
        
    </li>

                undefined
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
            
            
    </div>
    <div>
        
            <a class="about  hasFriend  site_url"
               
               href="/about">About</a>
        
        <a style="width: 50%"
                
                                           class="friends">Friends</a>
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="17">
<input type="hidden" id="yelog_site_word_count" value="57.4k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="https://ccflower.github.io/">ccflowerçš„åšå®¢</a></li>
            
            <li><a target="_blank" href="http://todd2010.github.io/">todd2010çš„åšå®¢</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Android</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>blockchain</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>otherTec</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>ä¸ªäººéšç¬”</a>
            </li>
        
    </div>

</div>

    
    <nav id="title-list-nav">
        
        
        <a  class="All Android "
           href="/2019/03/22/æ‰‹æ’¸Android-Nexusç§æœ‰Mavenä»“åº“GOGOGO/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="æ‰‹æ’¸Android-Nexusç§æœ‰Mavenä»“åº“GOGOGO">æ‰‹æ’¸Android-Nexusç§æœ‰Mavenä»“åº“GOGOGO</span>
            <span class="post-date" title="2019-03-22 00:00:00">2019/03/22</span>
        </a>
        
        
        <a  class="All å…¶ä»–æŠ€æœ¯ "
           href="/2018/07/08/EOSçˆ¬è¡Œè®°1/"
           data-tag="blockchain"
           data-author="" >
            <span class="post-title" title="EOSçˆ¬è¡Œè®°ï¼ˆç« ä¸€ï¼‰ --- EOSç¯å¢ƒæ­å»ºä¸åŸºæœ¬å‘½ä»¤">EOSçˆ¬è¡Œè®°ï¼ˆç« ä¸€ï¼‰ --- EOSç¯å¢ƒæ­å»ºä¸åŸºæœ¬å‘½ä»¤</span>
            <span class="post-date" title="2018-07-08 00:00:00">2018/07/08</span>
        </a>
        
        
        <a  class="All å…¶ä»–æŠ€æœ¯ "
           href="/2018/04/05/DAPPå¼€å‘å®æˆ˜ä¹‹æŠ•ç¥¨ç³»ç»Ÿ/"
           data-tag="blockchain"
           data-author="" >
            <span class="post-title" title="DAPPå¼€å‘å®æˆ˜ä¹‹æŠ•ç¥¨ç³»ç»Ÿ">DAPPå¼€å‘å®æˆ˜ä¹‹æŠ•ç¥¨ç³»ç»Ÿ</span>
            <span class="post-date" title="2018-04-05 00:00:00">2018/04/05</span>
        </a>
        
        
        <a  class="All å…¶ä»–æŠ€æœ¯ "
           href="/2018/02/19/Hexoåšå®¢é‡æ–°èµ·é£/"
           data-tag="otherTec"
           data-author="" >
            <span class="post-title" title="Hexoåšå®¢é‡æ–°èµ·é£">Hexoåšå®¢é‡æ–°èµ·é£</span>
            <span class="post-date" title="2018-02-19 00:00:00">2018/02/19</span>
        </a>
        
        
        <a  class="All ä¸ªäººéšç¬” "
           href="/2017/12/25/ä¸œäº¬å¥³å­å›¾é‰´/"
           data-tag="ä¸ªäººéšç¬”"
           data-author="" >
            <span class="post-title" title="ã€Šä¸œäº¬å¥³å­å›¾é‰´ã€‹ç¢ç¢å¿µ">ã€Šä¸œäº¬å¥³å­å›¾é‰´ã€‹ç¢ç¢å¿µ</span>
            <span class="post-date" title="2017-12-25 00:00:00">2017/12/25</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/12/19/ã€ŠAPPæŠ€æœ¯å°è£…ä¸é€‰æ‹©ã€‹æ€»è§ˆ/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="ã€ŠAPPæŠ€æœ¯å°è£…ä¸é€‰æ‹©ã€‹æ€»è§ˆ">ã€ŠAPPæŠ€æœ¯å°è£…ä¸é€‰æ‹©ã€‹æ€»è§ˆ</span>
            <span class="post-date" title="2017-12-19 00:00:00">2017/12/19</span>
        </a>
        
        
        <a  class="All å…¶ä»–æŠ€æœ¯ "
           href="/2017/10/19/ã€Šç²¾é€šPythonç½‘ç»œçˆ¬è™«ã€‹è¯»ä¹¦ç¬”è®°/"
           data-tag="otherTec"
           data-author="" >
            <span class="post-title" title="ã€Šç²¾é€šPythonç½‘ç»œçˆ¬è™«ã€‹è¯»ä¹¦ç¬”è®°">ã€Šç²¾é€šPythonç½‘ç»œçˆ¬è™«ã€‹è¯»ä¹¦ç¬”è®°</span>
            <span class="post-date" title="2017-10-19 00:00:00">2017/10/19</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/10/10/commlibä½¿ç”¨æŒ‡å—/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="commlibä½¿ç”¨æŒ‡å—">commlibä½¿ç”¨æŒ‡å—</span>
            <span class="post-date" title="2017-10-10 00:00:00">2017/10/10</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/08/21/APPç ”å‘å½•/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="ã€ŠAPPç ”å‘å½•ã€‹è¯»ä¹¦ç¬”è®°">ã€ŠAPPç ”å‘å½•ã€‹è¯»ä¹¦ç¬”è®°</span>
            <span class="post-date" title="2017-08-21 00:00:00">2017/08/21</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/08/08/ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹æ€»è§ˆ/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹æ€»è§ˆ">ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹æ€»è§ˆ</span>
            <span class="post-date" title="2017-08-08 00:00:00">2017/08/08</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/07/19/ã€Šæ˜“è¯»ã€‹APPåˆ†æ/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="ã€Šæ˜“è¯»ã€‹APPåˆ†æ">ã€Šæ˜“è¯»ã€‹APPåˆ†æ</span>
            <span class="post-date" title="2017-07-19 00:00:00">2017/07/19</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/06/07/ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹åŸºç¡€ç¯‡---Broadcast/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹åŸºç¡€ç¯‡---Broadcast">ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹åŸºç¡€ç¯‡---Broadcast</span>
            <span class="post-date" title="2017-06-07 00:00:00">2017/06/07</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/05/10/Androidä¸‹è½½æ¨¡å—æ¢ç©¶/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Androidä¸‹è½½æ¨¡å—æ¢ç©¶">Androidä¸‹è½½æ¨¡å—æ¢ç©¶</span>
            <span class="post-date" title="2017-05-10 00:00:00">2017/05/10</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/04/05/ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹åŸºç¡€ç¯‡---Service/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹åŸºç¡€ç¯‡---Service">ã€ŠAndroidæŠ€èƒ½æ ‘æ¢ç´¢ã€‹åŸºç¡€ç¯‡---Service</span>
            <span class="post-date" title="2017-04-05 00:00:00">2017/04/05</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/04/01/åŸºäºFragmentçš„å®‰å“æ’ä»¶åŒ–Demo/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="åŸºäºFragmentçš„å®‰å“æ’ä»¶åŒ–Demo">åŸºäºFragmentçš„å®‰å“æ’ä»¶åŒ–Demo</span>
            <span class="post-date" title="2017-04-01 00:00:00">2017/04/01</span>
        </a>
        
        
        <a  class="All Android "
           href="/2017/03/21/Androidæ·±åº¦ä¸»é¢˜åˆ‡æ¢æ¢ç©¶/"
           data-tag="Android"
           data-author="" >
            <span class="post-title" title="Androidæ·±åº¦ä¸»é¢˜åˆ‡æ¢æ¢ç©¶">Androidæ·±åº¦ä¸»é¢˜åˆ‡æ¢æ¢ç©¶</span>
            <span class="post-date" title="2017-03-21 00:00:00">2017/03/21</span>
        </a>
        
        
        <a  class="All ä¸ªäººéšç¬” "
           href="/2017/02/11/ç²¾è¿›/"
           data-tag="ä¸ªäººéšç¬”"
           data-author="" >
            <span class="post-title" title="ã€Šç²¾è¿›ï¼šå¦‚ä½•æˆä¸ºä¸€ä¸ªå¾ˆå‰å®³çš„äººã€‹è¯»ä¹¦ç¬”è®°">ã€Šç²¾è¿›ï¼šå¦‚ä½•æˆä¸ºä¸€ä¸ªå¾ˆå‰å®³çš„äººã€‹è¯»ä¹¦ç¬”è®°</span>
            <span class="post-date" title="2017-02-11 00:00:00">2017/02/11</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-APPç ”å‘å½•" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">ã€ŠAPPç ”å‘å½•ã€‹è¯»ä¹¦ç¬”è®°</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Android">Android</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color3">Android</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2024-03-18 15:23:56'>2017-08-21 00:00</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:4.9k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#ç¬¬ä¸€éƒ¨åˆ†-é«˜æ•ˆæ¡†æ¶è®¾è®¡ä¸é‡æ„"><span class="toc-text">ç¬¬ä¸€éƒ¨åˆ† é«˜æ•ˆæ¡†æ¶è®¾è®¡ä¸é‡æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#é‡æ„ç›¸å…³"><span class="toc-text">é‡æ„ç›¸å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#åº•å±‚ç½‘ç»œæ¡†æ¶è®¾è®¡"><span class="toc-text">åº•å±‚ç½‘ç»œæ¡†æ¶è®¾è®¡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Androidç»å…¸åœºæ™¯è®¾è®¡"><span class="toc-text">Androidç»å…¸åœºæ™¯è®¾è®¡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Androidå‘½åè§„èŒƒå’Œç¼–ç è§„èŒƒ"><span class="toc-text">Androidå‘½åè§„èŒƒå’Œç¼–ç è§„èŒƒ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ç¬¬äºŒéƒ¨åˆ†-Appå¼€å‘ä¸­çš„é«˜çº§æŠ€å·§"><span class="toc-text">ç¬¬äºŒéƒ¨åˆ† Appå¼€å‘ä¸­çš„é«˜çº§æŠ€å·§</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Crashå¼‚å¸¸æ”¶é›†ä¸ç»Ÿè®¡"><span class="toc-text">Crashå¼‚å¸¸æ”¶é›†ä¸ç»Ÿè®¡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ProGuardç›¸å…³"><span class="toc-text">ProGuardç›¸å…³</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#æŒç»­é›†æˆ"><span class="toc-text">æŒç»­é›†æˆ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Appç«å“æŠ€æœ¯åˆ†æ"><span class="toc-text">Appç«å“æŠ€æœ¯åˆ†æ</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <script src="/assets/js/APlayer.min.js"> </script><blockquote>
<p>å‰è¨€ï¼šè¿™ç¯‡æ˜¯å¾ˆæ—©ä»¥å‰çœ‹ã€ŠAPPç ”å‘å½•ã€‹çš„è¯»ä¹¦ç¬”è®°ï¼Œä¹Ÿæ˜¯å¾ˆé•¿ä¸€æ®µæ—¶é—´å”¯ä¸€èƒ½çœ‹å®Œä¸€æœ¬å¹¶è¿˜èƒ½ç•™ä¸‹ç‚¹ä¸œè¥¿çš„æŠ€æœ¯ä¹¦ç±ã€‚æœ€è¿‘åœ¨æ•´ç†è¶Šæ¥è¶Šå¤šçš„å°è±¡ç¬”è®°ï¼Œæ„Ÿè§‰åªæœ‰ä¸æ–­åœ°è¾“å‡ºå’Œå†™ä½œæ‰èƒ½è¥é€ å‡ºæ¶ˆåŒ–äº†éƒ¨åˆ†çš„å‡è±¡ï¼Œä¸ºäº†è®©ä¸‡äº‹å¼€å¤´éš¾æ›´åŠ ç®€å•ï¼Œè¿˜æ˜¯å¾—åšæŒå•Šç§‘ç§‘ã€‚</p>
</blockquote>
<hr>
<h4 id="ç¬¬ä¸€éƒ¨åˆ†-é«˜æ•ˆæ¡†æ¶è®¾è®¡ä¸é‡æ„"><a href="#ç¬¬ä¸€éƒ¨åˆ†-é«˜æ•ˆæ¡†æ¶è®¾è®¡ä¸é‡æ„" class="headerlink" title="ç¬¬ä¸€éƒ¨åˆ† é«˜æ•ˆæ¡†æ¶è®¾è®¡ä¸é‡æ„"></a>ç¬¬ä¸€éƒ¨åˆ† é«˜æ•ˆæ¡†æ¶è®¾è®¡ä¸é‡æ„</h4><hr>
<a id="more"></a>
<h5 id="é‡æ„ç›¸å…³"><a href="#é‡æ„ç›¸å…³" class="headerlink" title="é‡æ„ç›¸å…³"></a>é‡æ„ç›¸å…³</h5><ul>
<li>åŒ…ç»“æ„ç›¸å…³<br><img src="/img/005/20170412-1.png" alt="Alt text"></li>
<li>æ¯ä¸ªæ–‡ä»¶åªæœ‰ä¸€ä¸ªå•ç‹¬çš„ç±»ï¼Œä¸è¦æœ‰åµŒå¥—ç±»ï¼Œæ¯”å¦‚åœ¨Activityä¸­åµŒå¥—Adapterã€Entityã€‚<br><img src="/img/005/20170412-2.png" alt="Alt text"></li>
<li>ä»¥ä¸Šä¸ºä¸€çº§åˆ†åŒ…æ ·ä¾‹å‚è€ƒï¼Œå¦‚æ¶‰åŠåˆ°å…·ä½“æ¨¡å—ï¼Œå¯ä»¥å†ç»§ç»­åˆ†åŒ…</li>
<li>å•ä¸€èŒè´£çš„å®šä¹‰æ˜¯ï¼šä¸€ä¸ªç±»æˆ–æ–¹æ³•ï¼Œåªåšä¸€ä»¶äº‹æƒ…ã€‚ </li>
<li>è®¾ç½®BaseAcivityï¼Œé‡æ–°å®šä¹‰ç”Ÿå‘½å‘¨æœŸï¼Œè§„èŒƒåŒ–æ•´ä½“é£æ ¼</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public abstract class BaseActivity extends Activity &#123;</span><br><span class="line">  @Override</span><br><span class="line">    public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">    super.onCreate(savedInstanceState);</span><br><span class="line">    initVariables();</span><br><span class="line">    initViews(savedInstanceState);</span><br><span class="line">    loadData();</span><br><span class="line">  &#125;</span><br><span class="line">  protected abstract void initVariables();</span><br><span class="line">  protected abstract void initViews(Bundle savedInstanceState);</span><br><span class="line">  protected abstract void loadData();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸å»ºè®®åœ¨onClické‡Œé¢å†™è¿‡å¤šé€»è¾‘ï¼Œå»ºè®®æŠ½æˆæ–¹æ³•ï¼Œè®©onClickç®€æ´ã€‚</li>
<li>ä¸æœåŠ¡å™¨çš„æ•°æ®äº¤æµä¸å»ºè®®ä½¿ç”¨è‡ªå¸¦çš„JSONObjectï¼Œä¼šå‡ºç°åºåˆ—åŒ–å’Œä»£ç ä¸ç®€æ´çš„é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨fastJson,Gsonç­‰ç­‰ï¼Œæ³¨æ„æ··æ·†æ—¶è¯¥Keepçš„åœ°æ–¹ã€‚</li>
<li>ä¸è¦ä½¿ç”¨ç±»é—´çš„å…¨å±€å˜é‡ï¼Œå› ä¸ºéšæ—¶å¯èƒ½å› ä¸ºå†…å­˜ä¸è¶³è¢«ç³»ç»Ÿå›æ”¶ï¼Œéè¦ä½¿ç”¨çš„è¯éœ€è¦æœ¬åœ°åŒ–è¿™äº›å€¼ä½œä¿è¯ã€‚</li>
<li>ç±»å‹è½¬æ¢å»ºè®®åœ¨å…¬å…±utilç±»é‡Œé¢è®¾ç½®ç›¸åº”çš„å®‰å…¨æ–¹æ³•ï¼Œä¾‹å¦‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public final static int convertToInt(Object value, int defaultValue)</span><br><span class="line">&#123;</span><br><span class="line">  if (value == null || &quot;&quot;.equals(value.toString().trim())) &#123;</span><br><span class="line">    return defaultValue;</span><br><span class="line">  &#125;</span><br><span class="line">  try &#123;</span><br><span class="line">    return Integer.valueOf(value.toString());</span><br><span class="line">  &#125; catch (Exception e) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      return Double.valueOf(value.toString()).intValue();</span><br><span class="line">    &#125; catch (Exception e1) &#123;</span><br><span class="line">      return defaultValue;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>æ—¶æ—¶åˆ»åˆ»æ³¨æ„ç©ºå€¼ï¼Œè¶Šç•Œç­‰å¼‚å¸¸çš„æ•è·ä¸å¤„ç†ï¼Œæ°¸è¿œä¸è¦ç›¸ä¿¡æœåŠ¡å™¨æˆ–è€…å¤–éƒ¨ä¼ è¿‡æ¥çš„æ•°æ®çš„åˆæ³•æ€§ã€‚   </li>
</ul>
<hr>
<h5 id="åº•å±‚ç½‘ç»œæ¡†æ¶è®¾è®¡"><a href="#åº•å±‚ç½‘ç»œæ¡†æ¶è®¾è®¡" class="headerlink" title="åº•å±‚ç½‘ç»œæ¡†æ¶è®¾è®¡"></a>åº•å±‚ç½‘ç»œæ¡†æ¶è®¾è®¡</h5><ul>
<li><p>å¦‚æœè‡ªå·±å†™ç½‘ç»œæ¡†æ¶ï¼Œä½¿ç”¨AsyncTaskå±…å¤šï¼Œä¸€èˆ¬å†™æ³•å¦‚ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">Override</span><br><span class="line">protected Response doInBackground(Stringâ€¦ url) &#123;</span><br><span class="line">  return getResponseFromURL(url[0]);</span><br><span class="line">&#125;</span><br><span class="line">private Response getResponseFromURL(String url) &#123;</span><br><span class="line">  Response response = new Response();</span><br><span class="line">  HttpGet get = new HttpGet(url);</span><br><span class="line">  String strResponse = null;</span><br><span class="line">  try &#123;</span><br><span class="line">    HttpParams httpParameters = new BasicHttpParams();</span><br><span class="line">    HttpConnectionParams.setConnectionTimeout(httpParameters, 8000);</span><br><span class="line">    HttpClient httpClient = new DefaultHttpClient(httpParameters);</span><br><span class="line">    HttpResponse httpResponse = httpClient.execute(get);</span><br><span class="line">    if (httpResponse.getStatusLine().getStatusCode() </span><br><span class="line">        == HttpStatus.SC_OK) &#123;</span><br><span class="line">      strResponse = EntityUtils.toString(httpResponse.getEntity());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; catch (Exception e) &#123;</span><br><span class="line">    response.setErrorType(-1);</span><br><span class="line">    response.setError(true);</span><br><span class="line">    response.setErrorMessage(e.getMessage());</span><br><span class="line">  &#125;</span><br><span class="line">  if (strResponse == null) &#123;</span><br><span class="line">    response.setErrorType(-1);</span><br><span class="line">    response.setError(true);</span><br><span class="line">    response.setErrorMessage(&quot;ç½‘ç»œå¼‚å¸¸, è¿”å›ç©ºå€¼&quot;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    strResponse = &quot;&#123;&apos;isError&apos;:false,&apos;errorType&apos;:0,&apos;errorMessage&apos;:&apos;&apos;,</span><br><span class="line">    &apos;result&apos;:&#123;&apos;city&apos;:&apos;åŒ—äº¬&apos;,&apos;cityid&apos;:&apos;101010100&apos;,&apos;temp&apos;:&apos;17&apos;, &apos;WD&apos;:&apos;è¥¿å—é£&apos;,&apos;WS&apos;:&apos;2çº§&apos;,&apos;SD&apos;:&apos;54%&apos;,&apos;WSE&apos;:&apos;2&apos;,&apos;time&apos;:&apos;23:15&apos;,</span><br><span class="line">        &apos;isRadar&apos;:&apos;1&apos;,&apos;Radar&apos;:&apos;JC_RADAR_AZ9010_JB&apos;,</span><br><span class="line">          &apos;njd&apos;:&apos;æš‚æ— å®å†µ&apos;,&apos;qy&apos;:&apos;1016&apos;&#125;&#125;&quot;;</span><br><span class="line">          response = JSON.parseObject(strResponse, Response.class);</span><br><span class="line">&#125;</span><br><span class="line">return response;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">public abstract class RequestAsyncTask </span><br><span class="line"> extends AsyncTask&lt;String, Void, Response&gt; &#123;</span><br><span class="line">   public abstract void onSuccess(String content);</span><br><span class="line">   public abstract void onFail(String errorMessage);</span><br><span class="line">   @Override</span><br><span class="line">     protected void onPreExecute() &#123;</span><br><span class="line">   &#125;</span><br><span class="line">   @Override</span><br><span class="line">     protected void onPostExecute(Response response) &#123;</span><br><span class="line">     if(response.hasError()) &#123;</span><br><span class="line">       onFail(response.getErrorMessage());</span><br><span class="line">     &#125; else &#123;</span><br><span class="line">       onSuccess(response.getResult());</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>è‡³å°‘ä¸¤ä¸ªåœ°æ–¹å¯ä»¥ä¼˜åŒ–ï¼š</p>
</li>
</ul>
<ol>
<li>ä½¿ç”¨çº¿ç¨‹æ± </li>
<li>æ”¯æŒå®æ—¶å–æ¶ˆ</li>
<li>ä¸€äº›å›è°ƒå¯ä»¥æŠ½å‡ºå…¬å…±é»˜è®¤åŠ¨ä½œ</li>
</ol>
<ul>
<li><p>ä¹¦ä¸­ä»‹ç»äº†ä¸€ç§ThreadPoolExecutor+Runnable+Handlerçš„å†™æ³•</p>
<blockquote>
<p>æºç å‚è§<a href="http://www.cnblogs.com/Jax/p/4656789.html" target="_blank" rel="noopener">http://www.cnblogs.com/Jax/p/4656789.html</a><br>å…¶ä»–ä¸œè¥¿ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°æºç å°±æ˜¯äº†</p>
</blockquote>
</li>
<li><p>ä¼˜åŒ–æ¥å£è®¿é—®é€Ÿåº¦ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªæ¥å£å®šä¹‰ä¸€ä¸ªç¼“å­˜æ—¶é—´ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…è¿˜æ˜¯ä½¿ç”¨ä¸Šæ¬¡çš„ç»“æœï¼Œè€Œä¸æ˜¯é‡æ–°è¯·æ±‚åå°ã€‚å°¤å…¶é’ˆå¯¹ä¸€äº›getæ–¹å¼çš„æŸ¥è¯¢ç±»è¯·æ±‚ã€‚</p>
</li>
<li>ç¼“å­˜å­˜åœ¨SDå¡ä¸­ï¼ŒURLåŠå‚æ•°ä½œä¸ºKEYï¼Œæ•°æ®ä½œä¸ºå€¼ã€‚</li>
<li>è¯·æ±‚æ—¶ï¼Œå…ˆæŸ¥çœ‹ç¼“å­˜æ—¶é—´æ—¶å€™è¿‡æœŸï¼Œæœªè¿‡æœŸåˆ™æ‰¾æœ¬åœ°ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰å†è¯·æ±‚ï¼Œå¹¶æŠŠè¯·æ±‚ç»“æœå­˜æœ¬åœ°ï¼Œæ›´æ–°ç¼“å­˜æ—¶é—´ï¼Œå¦‚æœæœ‰ç›´æ¥è¿”å›ã€‚</li>
<li>è®°å¾—è®¾ç½®ä¸€ä¸ªå¼ºåˆ¶ç«‹å³æ›´æ–°çš„æ–¹æ³•ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚</li>
<li>å¦‚æœåå°æ¥å£è¿˜æ²¡å¥½ï¼Œå¯ä»¥è€ƒè™‘å…ˆå®šä¹‰å­—æ®µï¼Œç„¶åä½¿ç”¨MockServiceï¼Œå…¶å®å°±æ˜¯é€ å‡æ•°æ®å•¦ã€‚</li>
<li>ä¹¦ä¸Šé‚£ä¸ªç•¥å¤æ‚ï¼Œå…¶å®åœ¨BaseBeané‡Œé¢è®¾ç½®<code>public abstract String getJsonData();</code>æ–¹æ³•ï¼Œç„¶åå†å…·ä½“çš„Beané‡Œé¢ç”Ÿæˆå‡æ•°æ®è¿”å›å›å»å°±è¡Œå•¦ã€‚</li>
<li>ç™»å½•é€»è¾‘ä¸€èˆ¬åˆ†ä¸º3ç§ï¼š</li>
</ul>
<ol>
<li>ç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œè¿›å…¥ç™»å½•é¡µé¢LoginActivityï¼Œç™»å½•æˆåŠŸåï¼Œç›´æ¥è¿›å…¥ä¸ªäººä¸­å¿ƒPersonCenterActivityã€‚è¿™ç§æƒ…å†µæœ€ç›´æˆªäº†å½“ï¼Œä¸€è·¯æ‰§è¡ŒstartActivity(intent)å°±èƒ½è¾¾åˆ°ç›®çš„ã€‚</li>
<li>åœ¨é¡µé¢Aï¼Œæƒ³è¦è·³è½¬åˆ°é¡µé¢Bï¼Œå¹¶æºå¸¦ä¸€äº›å‚æ•°ï¼Œå´å‘ç°æ²¡æœ‰ç™»å½•ï¼Œäºæ˜¯å…ˆè·³è½¬åˆ°ç™»å½•é¡µï¼Œç™»å½•æˆåŠŸåï¼Œå†è·³è½¬åˆ°Bé¡µé¢ï¼ŒåŒæ—¶ä»ç„¶å¸¦ç€é‚£äº›å‚æ•°ã€‚</li>
<li>åœ¨é¡µé¢Aï¼Œæ‰§è¡ŒæŸä¸ªæ“ä½œï¼Œå´å‘ç°æ²¡æœ‰ç™»å½•ï¼Œäºæ˜¯è·³è½¬åˆ°ç™»å½•é¡µï¼Œç™»å½•æˆåŠŸåï¼Œå†å›åˆ°é¡µé¢Aï¼Œç»§ç»­æ‰§è¡Œè¯¥æ“ä½œã€‚ </li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">  public void onSuccess(String content) &#123;</span><br><span class="line">    UserInfo userInfo = JSON.parseObject(content,</span><br><span class="line">                                         UserInfo.class);</span><br><span class="line">    if (userInfo != null) &#123;</span><br><span class="line">      User.getInstance().reset();</span><br><span class="line">      User.getInstance().setLoginName(userInfo.getLoginName());</span><br><span class="line">      User.getInstance().setScore(userInfo.getScore());</span><br><span class="line">      User.getInstance().setUserName(userInfo.getUserName());</span><br><span class="line">      User.getInstance().setLoginStatus(true);</span><br><span class="line">      User.getInstance().save();</span><br><span class="line">    &#125;</span><br><span class="line">    if(needCallback) &#123;</span><br><span class="line">      setResult(Activity.RESULT_OK);</span><br><span class="line">      finish();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      Intent intent = new Intent(LoginActivity.this, </span><br><span class="line">                                 PersonCenterActivity.class);</span><br><span class="line">      startActivity(intent);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<ul>
<li>è‡ªåŠ¨ç™»å½•ä¸€èˆ¬ä¾èµ–äºcookie(token)ï¼Œä¸€èˆ¬å­˜æ”¾åœ¨Http-Responseçš„headerä¸­ï¼ŒAPPç«¯ä¸å…³å¿ƒé‡Œé¢å†…å®¹ï¼Œæ¯æ¬¡è¯·æ±‚å½“å‚æ•°ä¼ ç»™æœåŠ¡å™¨ï¼Œæ¯æ¬¡è·å¾—åº”ç­”åˆ™åˆ·æ–°cookieã€‚</li>
<li>APPåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•åˆ™æ£€æŸ¥è¿™ä¸ªå€¼å°±è¡Œã€‚æœåŠ¡å™¨æ¥åˆ¤æ–­cookieæ˜¯å¦è¿‡æœŸã€‚</li>
<li>å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œç™»å½•APIå¦‚æœè¢«æŸä¸€IPé¢‘ç¹è®¿é—®åç«¯éœ€è¦ä½œå‡ºååº”ï¼ŒAPPç«¯åº”è¯¥ç»™äºˆé…åˆï¼Œæ¯”å¦‚éœ€è¦è¾“å…¥éªŒè¯ç å•¥çš„ï¼Œé˜²æ­¢æ¶æ„æ³¨å†Œã€‚å¯†ç ä»€ä¹ˆçš„ä¸€å®šä¸è¦ç”¨æ˜æ–‡ã€‚</li>
<li>æ¯æ¬¡HTTP Responseå¤´çš„Dateå±æ€§é‡Œé¢è¿”å›æœåŠ¡å™¨çœŸå®æ—¶é—´ï¼Œå‡å»APPæœ¬åœ°æ—¶é—´è·å¾—å·®å€¼å¹¶ä¿å­˜ï¼ŒåŒæ—¶æš´éœ²æ¥å£è·å¾—è¿™ä¸ªå€¼ï¼Œåœ¨è¯·æ±‚çš„æ—¶å€™å¯èƒ½ä¼šç”¨åˆ°ã€‚</li>
<li>åœ¨HTTPRequestå¤´ä¸­keyæ˜¯Accept-Encodingï¼Œvalueæ˜¯gzipï¼Œå¯ä»¥å¼€å¯Gzipå‹ç¼©ã€‚</li>
<li>MobileAPIçš„é€»è¾‘æ˜¯ï¼Œæ£€æŸ¥HTTPè¯·æ±‚å¤´ä¸­çš„Accept-Encodingæ˜¯å¦æœ‰gzipå€¼ï¼Œå¦‚æœæœ‰ï¼Œå°±ä¼šæ‰§è¡Œgzipå‹ç¼©ã€‚<br>å¦‚æœæ‰§è¡Œäº†gzipå‹ç¼©ï¼Œé‚£ä¹ˆåœ¨è¿”å›å€¼ä¹Ÿå°±æ˜¯HTTPResponseçš„å¤´ä¸­ï¼Œæœ‰ä¸€ä¸ªcontent-encodingå­—æ®µï¼Œä¼šå¸¦æœ‰gzipçš„å€¼ï¼›å¦åˆ™ï¼Œå°±æ²¡æœ‰è¿™ä¸ªå€¼ã€‚</li>
<li>Appæ£€æŸ¥HTTPResponseå¤´ä¸­çš„content-encodingå­—æ®µæ˜¯å¦åŒ…å«gzipå€¼ï¼Œè¿™ä¸ªå€¼çš„æœ‰æ— ï¼Œå¯¼è‡´äº†Appè§£æHTTPResponseçš„å§¿åŠ¿ä¸åŒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼ˆä»¥ä¸‹ä»£ç å‚è§HTTPRequestè¿™ä¸ªç±»ï¼‰ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">String strResponse = &quot;&quot;;</span><br><span class="line">if ((response.getEntity().getContentEncoding() != null)</span><br><span class="line">    &amp;&amp; (response.getEntity().getContentEncoding()</span><br><span class="line">        .getValue() != null)) &#123;</span><br><span class="line">  if (response.getEntity().getContentEncoding()</span><br><span class="line">      .getValue().contains(&quot;gzip&quot;)) &#123;</span><br><span class="line">    final InputStream in = response.getEntity()</span><br><span class="line">      .getContent();</span><br><span class="line">    final InputStream is = new GZIPInputStream(in);</span><br><span class="line">    uest.inputStreamToString(is);</span><br><span class="line">    is.close();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    response.getEntity().writeTo(content);</span><br><span class="line">    strResponse = new String(content.toByteArray()).trim();</span><br><span class="line">  &#125;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">  response.getEntity().writeTo(content);</span><br><span class="line">  strResponse = new String(content.toByteArray()).trim();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="Androidç»å…¸åœºæ™¯è®¾è®¡"><a href="#Androidç»å…¸åœºæ™¯è®¾è®¡" class="headerlink" title="Androidç»å…¸åœºæ™¯è®¾è®¡"></a>Androidç»å…¸åœºæ™¯è®¾è®¡</h5><p>1ï¼‰ç®€ä»‹ImageLoaderã€‚<br>åœ°å€ï¼š<a href="http://blog.csdn.net/yueqinglkong/article/details/27660107" target="_blank" rel="noopener">http://blog.csdn.net/yueqinglkong/article/details/27660107</a><br>2ï¼‰Android-Universal-Image-Loaderå›¾ç‰‡å¼‚æ­¥åŠ è½½ç±»åº“çš„ä½¿ç”¨ï¼ˆè¶…è¯¦ç»†é…ç½®ï¼‰ã€‚<br>åœ°å€ï¼š<a href="http://blog.csdn.net/vipzjyno1/article/details/23206387" target="_blank" rel="noopener">http://blog.csdn.net/vipzjyno1/article/details/23206387</a><br>3ï¼‰Androidå¼€æºæ¡†æ¶Universal-Image-Loaderå®Œå…¨è§£æã€‚<br>åœ°å€ï¼š<a href="http://blog.csdn.net/xiaanming/article/details/39057201" target="_blank" rel="noopener">http://blog.csdn.net/xiaanming/article/details/39057201</a></p>
<ul>
<li>å…³äºFrescoçš„æ›´å¤šä»‹ç»è¯·å‚è§ï¼š<br>Â·Frescoåœ¨GitHubä¸Šçš„æºç ï¼š<a href="https://github.com/mkottman/AndroLua" target="_blank" rel="noopener">https://github.com/mkottman/AndroLua</a><br>Â·Frescoå®˜æ–¹æ–‡æ¡£ï¼š<a href="http://fresco-cn.org/docs/index.html" target="_blank" rel="noopener">http://fresco-cn.org/docs/index.html</a></li>
<li>åŠ è½½ç½‘ç»œå›¾ç‰‡çš„æ—¶å€™ï¼Œä¸€å®šè¦çœ‹æ˜¾ç¤ºæ§ä»¶çš„å¤§å°ï¼Œç„¶åæŠŠè¦æ˜¾ç¤ºçš„å›¾ç‰‡ç¼©æ”¾åˆ°ç›¸åŒç­‰çº§çš„å¤§å°å†…å†æ˜¾ç¤ºï¼Œå°¤å…¶æ˜¯åˆ—è¡¨çš„itemé‚£ç§ï¼Œä¸ç„¶è½»æ¾OOMã€‚</li>
<li>é’ˆå¯¹ä»¥ä¸Šç­–ç•¥ï¼Œéœ€è¦ä¸€ä¸ªå·¥å…·ç±»ï¼Œä¼ å…¥éœ€è¦çš„å®½é«˜ï¼Œç„¶åç»™å‡ºç¼©æ”¾åçš„å›¾ç‰‡ï¼ˆbitmapï¼‰ã€‚</li>
<li>ä»¥ä¸Šç¼©æ”¾ä¹Ÿå¯ä»¥æœåŠ¡å™¨æ“ä½œï¼ŒæœåŠ¡å™¨å’ŒAPPè¿˜å¯ä»¥çº¦å®šä¸€ä¸ªä½æµé‡æ¨¡å¼(é™ä½å›¾ç‰‡è´¨é‡)ä¸æé€Ÿæ¨¡å¼ï¼ˆåŸºæœ¬æ— å›¾ï¼‰ï¼Œé€šè¿‡APPç«¯çš„ä¸åŒç½‘ç»œç›‘å¬è¿›è¡Œåˆç†çš„åˆ‡æ¢ã€‚</li>
<li>åŸå¸‚åˆ—è¡¨è®¾è®¡ï¼Œå»ºè®®æœ¬åœ°ä¿å­˜ä¸€ä»½ï¼Œå¸¦ç‰ˆæœ¬å·ï¼ŒæœåŠ¡å™¨æ ¹æ®APPç«¯çš„ç‰ˆæœ¬å·è¿”å›å¢åˆ æ”¹çš„æ•°æ®ï¼ŒAPPç«¯æ›´æ–°å¹¶ä¿å­˜ã€‚</li>
<li>Appæ“ä½œHTML5é¡µé¢çš„æ–¹æ³•</li>
</ul>
<ol>
<li><p>HTML5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a onclick=&quot;baobao.callAndroidMethod(100,100,&apos;ccc&apos;,true)&quot;&gt;</span><br><span class="line"> CallAndroidMethod&lt;/a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Android</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">wvAds.getSettings().setJavaScriptEnabled(true);</span><br><span class="line">wvAds.loadUrl(&quot;file:// /android_asset/104.html&quot;);</span><br><span class="line">btnShowAlert.setOnClickListener(new View.OnClickListener() &#123;   </span><br><span class="line">@Override    </span><br><span class="line">public void onClick(View v) &#123;      </span><br><span class="line">String color = &quot;#00ee00&quot;;      </span><br><span class="line">wvAds.loadUrl(&quot;javascript: changeColor (&apos;&quot; + color + &quot;&apos;);&quot;);    &#125;&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ul>
<li>HTML5é¡µé¢æ“ä½œAppé¡µé¢çš„æ–¹æ³•</li>
</ul>
<ol>
<li><p>HTML5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;a onclick=&quot;baobao.callAndroidMethod(100,100,&apos;ccc&apos;,true)&quot;&gt;</span><br><span class="line">  CallAndroidMethod&lt;/a&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Android</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class JSInteface1 &#123;</span><br><span class="line">  public void callAndroidMethod(int a, float b, </span><br><span class="line">                                String c, boolean d) &#123;</span><br><span class="line">                                    if (d) &#123;</span><br><span class="line">      String strMessage = &quot;-&quot; + (a + 1) + &quot;-&quot; + (b + 1) </span><br><span class="line">        + &quot;-&quot; + c + &quot;-&quot; + d;</span><br><span class="line">      new AlertDialog.Builder(MainActivity.this)</span><br><span class="line">        .setTitle(&quot;title&quot;)</span><br><span class="line">        .setMessage(strMessage).show();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>åŒæ—¶ï¼Œéœ€è¦æ³¨å†Œbaobaoå’ŒJSInterface1çš„å¯¹åº”å…³ç³»ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wvAds.addJavascriptInterface(new JSInteface1(), &quot;baobao&quot;);</span><br></pre></td></tr></table></figure></p>
<p>è¦åœ¨æ–¹æ³•å‰å¢åŠ @JavascriptInterfaceï¼Œå¦åˆ™ï¼Œå°±ä¸èƒ½è§¦å‘JavaScriptæ–¹æ³•ã€‚</p>
<ul>
<li>å¯ä»¥åœ¨APPçš„æ–¹æ³•å†…åŠ å…¥å‚æ•°ï¼Œæ¥è®©H5é¡µé¢å¼€å‘è€…èƒ½æ§åˆ¶é¡µé¢åœ¨APPå†…çš„è·³è½¬ï¼Œä¹‹å‰éœ€å…ˆçº¦å®šå¥½è·³è½¬çš„è§„åˆ™å¯¹åº”åˆ—è¡¨ã€‚</li>
<li>æœ‰æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨H5æ¥å¸®åŠ©åšä¸€äº›å¤æ‚çš„åŠ¨ç”»ï¼Œæ¯”å¦‚åœ¨æœ¬åœ°æ”¾ä¸€ä¸ªHTMLï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">      &lt;data1DefinedByBaobao&gt;</span><br><span class="line">        &lt;/table&gt;    </span><br><span class="line">      &lt;/body&gt;</span><br><span class="line">    &lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç„¶åä½¿ç”¨çœŸå®æ•°æ®æ¥æ›¿æ¢ <code>&lt;data1DefinedByBaobao&gt;</code></p>
<ul>
<li>Nativeå’ŒH5ç”±åå°å¯é…åˆ°åº•æ˜¾ç¤ºå“ªä¸ªé¡µé¢ï¼Œå¯èƒ½ä¸€äº›ç‰¹å®šçš„éœ€æ±‚ä¼šç”¨åˆ°è¿™ä¸ªç­–ç•¥ï¼Œå…ˆæš‚å­˜ã€‚</li>
</ul>
<hr>
<h5 id="Androidå‘½åè§„èŒƒå’Œç¼–ç è§„èŒƒ"><a href="#Androidå‘½åè§„èŒƒå’Œç¼–ç è§„èŒƒ" class="headerlink" title="Androidå‘½åè§„èŒƒå’Œç¼–ç è§„èŒƒ"></a>Androidå‘½åè§„èŒƒå’Œç¼–ç è§„èŒƒ</h5><ul>
<li>Javaç±»æ–‡ä»¶å‘½åè§„èŒƒ</li>
</ul>
<ol>
<li>Activityå‘½åè§„èŒƒï¼šä»¥Activityä½œä¸ºåç¼€ã€‚æ¯”å¦‚è¯´PersonActivityã€‚</li>
<li>Adapterå‘½åè§„èŒƒï¼šä»¥Adapterä½œä¸ºåç¼€ã€‚æ¯”å¦‚è¯´PersonAdapaterã€‚</li>
<li>Entityå‘½åè§„èŒƒï¼šå¤§å¤šä»¥Entityä½œä¸ºåç¼€ã€‚æ¯”å¦‚è¯´PersonEntityã€‚ï¼ˆBeanï¼‰</li>
</ol>
<ul>
<li>èµ„æºæ–‡ä»¶å‘½åè§„èŒƒ</li>
</ul>
<ol>
<li>é¡µé¢å¸ƒå±€æ–‡ä»¶ã€‚ä»¥act_ä¸ºå‰ç¼€ï¼Œä»¥Activityæ‰€åœ¨çš„Packageä½œä¸ºä¸­ç¼€ï¼Œä»¥Activityçš„åç§°ï¼ˆå»æ‰Activityåç¼€ï¼‰ä½œä¸ºåç¼€ã€‚æ³¨æ„éƒ½æ˜¯å°å†™ã€‚<br>Â·ä¾‹å¦‚ï¼Œå¯¹äºPersonè¿™ä¸ªæ¨¡å—ä¸‹çš„AddCustomerActivityï¼Œå®ƒçš„layoutæ–‡ä»¶å°±åº”è¯¥æ˜¯ï¼šact_person_addcustomer.xmlã€‚</li>
<li>ListViewä¸­çš„itemå¸ƒå±€æ–‡ä»¶ã€‚ä»¥item_ä½œä¸ºå›ºå®šå‰ç¼€ï¼Œåˆ—è¡¨é¡¹çš„åç§°ä¸ºåç¼€ã€‚æ³¨æ„éƒ½æ˜¯å°å†™ã€‚ä¾‹å¦‚ï¼ŒæŸä¸ªé¡µé¢ä¸‹æœ‰ä¸€ä¸ªç”¨æˆ·åˆ—è¡¨ï¼Œæ§ä»¶åä¸ºlvUserListï¼Œé‚£ä¹ˆitemçš„layoutå°±åº”è¯¥æ˜¯ï¼šitem_lvUserList.xmlã€‚</li>
<li>Dialogå¸ƒå±€æ–‡ä»¶ã€‚<br>ä»¥dlg_ä½œä¸ºå›ºå®šå‰ç¼€ï¼ŒDialogçš„åŠŸèƒ½åç§°ä¸ºåç¼€ã€‚æ³¨æ„éƒ½æ˜¯å°å†™ï¼Œä¾‹å¦‚ï¼šdlg_hint.xmlã€‚</li>
</ol>
<ul>
<li>JAVAä¸­çš„å¯¹è±¡ä½¿ç”¨é©¼å³°å¼ï¼Œå¸¸é‡å¤§å†™ï¼Œæ§ä»¶idå’Œstringç­‰ç”¨ä¸‹åˆ’çº¿å¼ï¼Œå¤šå¤šå¼ºè¿«ç—‡ï¼Œå¤šå¤šå¤„å¥³åº§ã€‚</li>
<li>codeFormatæœ€å¥½æ‰€æœ‰äººå…±ç”¨ä¸€ä»½xmlï¼Œä»¥å…æ ¼å¼åŒ–ågitä¸Šä¸€ç‰‡çº¢ã€‚</li>
</ul>
<hr>
<h4 id="ç¬¬äºŒéƒ¨åˆ†-Appå¼€å‘ä¸­çš„é«˜çº§æŠ€å·§"><a href="#ç¬¬äºŒéƒ¨åˆ†-Appå¼€å‘ä¸­çš„é«˜çº§æŠ€å·§" class="headerlink" title="ç¬¬äºŒéƒ¨åˆ† Appå¼€å‘ä¸­çš„é«˜çº§æŠ€å·§"></a>ç¬¬äºŒéƒ¨åˆ† Appå¼€å‘ä¸­çš„é«˜çº§æŠ€å·§</h4><hr>
<h5 id="Crashå¼‚å¸¸æ”¶é›†ä¸ç»Ÿè®¡"><a href="#Crashå¼‚å¸¸æ”¶é›†ä¸ç»Ÿè®¡" class="headerlink" title="Crashå¼‚å¸¸æ”¶é›†ä¸ç»Ÿè®¡"></a>Crashå¼‚å¸¸æ”¶é›†ä¸ç»Ÿè®¡</h5><ul>
<li>Crashåˆ†æä¸‰éƒ¨æ›²</li>
</ul>
<ol>
<li>æ”¶é›†ï¼šæŠŠCrashæ”¶é›†åˆ°æœ¬åœ°æ•°æ®åº“ã€‚</li>
<li>ç»Ÿè®¡ï¼šå¯¹æ¯å¤©çº¿ä¸Šå¤§é‡çš„Crashè¿›è¡Œå»é‡ã€åˆ†ç±»ã€‚</li>
<li>åˆ†æï¼šé€ä¸ªåˆ†æå„ç±»Crashï¼Œé‡ç°å¼‚å¸¸å‘ç”Ÿçš„ä¾‹å­ï¼Œç»™å‡ºè§£å†³æ–¹æ¡ˆã€‚</li>
</ol>
<ul>
<li>ä½¿ç”¨UncaughtExceptionHandleræ”¶é›†å¼‚å¸¸ï¼Œç½‘ä¸Šä»£ç å¾ˆå¤šå°±ä¸è´´ä»£ç äº†ï¼Œä¸€èˆ¬åœ¨handleExceptioné‡Œé¢åšä¸‰ä»¶äº‹ï¼š</li>
</ul>
<ol>
<li>é”™è¯¯æ—¥å¿—åˆ°æœåŠ¡å™¨ã€‚</li>
<li>ç»™ç”¨æˆ·å´©æºƒå‰çš„å‹å¥½æç¤ºã€‚</li>
<li>æŠŠé”™è¯¯æ—¥å¿—è®°å½•åˆ°SDå¡ã€‚</li>
</ol>
<ul>
<li>å¯¹æœåŠ¡å™¨å‘é€ä»¥ä¸‹æ•°æ®å­—æ®µï¼ˆå‚è€ƒï¼‰<br><img src="/img/005/20170412-3.png" alt="Alt text"></li>
<li>åœ¨å…·ä½“çš„Activityä¸­ï¼Œæˆ‘ä»¬ä¼šå°†CrashTypeè®¾ç½®ä¸º0ï¼Œè€Œåœ¨CrashHandlerä¸­æ‰ä¼šå°†CrashTypeè®¾ç½®ä¸º1ã€‚</li>
<li>æœåŠ¡å™¨è¦åŠæ—¶ç»Ÿè®¡è¿™äº›æ•°æ®å¹¶åˆ†ç±»å»é‡åç”±é«˜åˆ°ä½æ’åºã€‚</li>
</ul>
<hr>
<h5 id="ProGuardç›¸å…³"><a href="#ProGuardç›¸å…³" class="headerlink" title="ProGuardç›¸å…³"></a>ProGuardç›¸å…³</h5><ul>
<li><p>ä»¥ä¸‹æ˜¯æ··æ·†æœ€åŸºæœ¬çš„é…ç½®ä¿¡æ¯ï¼Œä»»ä½•Appéƒ½è¦ä½¿ç”¨ï¼Œå¯ä»¥ä½œä¸ºæ¨¡æ¿ä½¿ç”¨ï¼Œä½œè€…ä¸ºæ¯è¡Œä»£ç éƒ½å¢åŠ äº†æ³¨é‡Šï¼š  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># ä»£ç æ··æ·†å‹ç¼©æ¯”, åœ¨0~7ä¹‹é—´, é»˜è®¤ä¸º5, ä¸€èˆ¬ä¸éœ€è¦æ”¹</span><br><span class="line">  -optimizationpasses 5</span><br><span class="line">  # æ··æ·†æ—¶ä¸ä½¿ç”¨å¤§å°å†™æ··åˆ, æ··æ·†åçš„ç±»åä¸ºå°å†™</span><br><span class="line">    -dontusemixedcaseclassnames</span><br><span class="line">    # æŒ‡å®šä¸å»å¿½ç•¥éå…¬å…±çš„åº“çš„ç±»</span><br><span class="line">      -dontskipnonpubliclibraryclasses</span><br><span class="line">      # æŒ‡å®šä¸å»å¿½ç•¥éå…¬å…±çš„åº“çš„ç±»çš„æˆå‘˜</span><br><span class="line">        -dontskipnonpubliclibraryclassmembers</span><br><span class="line">        # ä¸åšé¢„æ ¡éªŒ, preverifyæ˜¯proguardçš„4ä¸ªæ­¥éª¤ä¹‹ä¸€</span><br><span class="line">        # Androidä¸éœ€è¦preverify, å»æ‰è¿™ä¸€æ­¥å¯åŠ å¿«æ··æ·†é€Ÿåº¦</span><br><span class="line">          -dontpreverify</span><br><span class="line">          # æœ‰äº†verboseè¿™å¥è¯, æ··æ·†åå°±ä¼šç”Ÿæˆæ˜ å°„æ–‡ä»¶</span><br><span class="line">          # åŒ…å«æœ‰ç±»å-&gt;æ··æ·†åç±»åçš„æ˜ å°„å…³ç³»</span><br><span class="line">          # ç„¶åä½¿ç”¨printmappingæŒ‡å®šæ˜ å°„æ–‡ä»¶çš„åç§°</span><br><span class="line">            -verbose</span><br><span class="line">              -printmapping proguardMapping.txt</span><br><span class="line">              # æŒ‡å®šæ··æ·†æ—¶é‡‡ç”¨çš„ç®—æ³•, åé¢çš„å‚æ•°æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨</span><br><span class="line">              # è¿™ä¸ªè¿‡æ»¤å™¨æ˜¯è°·æ­Œæ¨èçš„ç®—æ³•, ä¸€èˆ¬ä¸æ”¹å˜</span><br><span class="line">                -optimizations !code/simplification/arithmetic,!field/*,!class/merging/*</span><br><span class="line"># ä¿æŠ¤ä»£ç ä¸­çš„Annotationä¸è¢«æ··æ·†</span><br><span class="line"># è¿™åœ¨JSONå®ä½“æ˜ å°„æ—¶éå¸¸é‡è¦, æ¯”å¦‚fastJson</span><br><span class="line">-keepattributes *Annotation*</span><br><span class="line"># é¿å…æ··æ·†æ³›å‹, </span><br><span class="line"># è¿™åœ¨JSONå®ä½“æ˜ å°„æ—¶éå¸¸é‡è¦, æ¯”å¦‚fastJson</span><br><span class="line">-keepattributes Signature</span><br><span class="line">// æŠ›å‡ºå¼‚å¸¸æ—¶ä¿ç•™ä»£ç è¡Œå·, åœ¨ç¬¬6ç« å¼‚å¸¸åˆ†æä¸­æˆ‘ä»¬æåˆ°è¿‡</span><br><span class="line">-keepattributes SourceFile,LineNumberTable</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç„¶ååŠ å…¥éœ€è¦ä¿ç•™ä¸æ··æ·†çš„ä¸œè¥¿ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"># ä¿ç•™æ‰€æœ‰çš„æœ¬åœ°nativeæ–¹æ³•ä¸è¢«æ··æ·†</span><br><span class="line">-keepclasseswithmembernames class * &#123;</span><br><span class="line">  native &lt;methods&gt;;</span><br><span class="line">  &#125;</span><br><span class="line"># ä¿ç•™äº†ç»§æ‰¿è‡ªActivityã€Applicationè¿™äº›ç±»çš„å­ç±»</span><br><span class="line"># å› ä¸ºè¿™äº›å­ç±»éƒ½æœ‰å¯èƒ½è¢«å¤–éƒ¨è°ƒç”¨</span><br><span class="line"># æ¯”å¦‚è¯´, ç¬¬ä¸€è¡Œå°±ä¿è¯äº†æ‰€æœ‰Activityçš„å­ç±»ä¸è¦è¢«æ··æ·†</span><br><span class="line">-keep public class * extends android.app.Activity</span><br><span class="line">-keep public class * extends android.app.Application</span><br><span class="line">-keep public class * extends android.app.Service</span><br><span class="line">-keep public class * extends android.content.BroadcastReceiver</span><br><span class="line">-keep public class * extends android.content.ContentProvider</span><br><span class="line">-keep public class * extends android.app.backup.BackupAgentHelper</span><br><span class="line">-keep public class * extends android.preference.Preference</span><br><span class="line">-keep public class * extends android.view.View</span><br><span class="line">-keep public class com.android.vending.licensing.ILicensingService</span><br><span class="line"># å¦‚æœæœ‰å¼•ç”¨android-support-v4.jaråŒ…, å¯ä»¥æ·»åŠ ä¸‹é¢è¿™è¡Œ</span><br><span class="line">-keep public class com.tuniu.app.ui.fragment.** &#123;*;&#125;</span><br><span class="line"># ä¿ç•™åœ¨Activityä¸­çš„æ–¹æ³•å‚æ•°æ˜¯viewçš„æ–¹æ³•, </span><br><span class="line"># ä»è€Œæˆ‘ä»¬åœ¨layouté‡Œé¢ç¼–å†™onClickå°±ä¸ä¼šè¢«å½±å“</span><br><span class="line">-keepclassmembers class * extends android.app.Activity &#123;</span><br><span class="line">  public void *(android.view.View);</span><br><span class="line">&#125;</span><br><span class="line"># æšä¸¾ç±»ä¸èƒ½è¢«æ··æ·†</span><br><span class="line">-keepclassmembers enum * &#123;</span><br><span class="line">  public static **[] values();</span><br><span class="line">  public static ** valueOf(java.lang.String);</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™è‡ªå®šä¹‰æ§ä»¶(ç»§æ‰¿è‡ªView)ä¸è¢«æ··æ·†</span><br><span class="line">-keep public class * extends android.view.View &#123;</span><br><span class="line">  *** get*();</span><br><span class="line">  void set*(***);</span><br><span class="line">  public &lt;init&gt;(android.content.Context);</span><br><span class="line">  public &lt;init&gt;(android.content.Context, android.util.AttributeSet);</span><br><span class="line">  public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™Parcelableåºåˆ—åŒ–çš„ç±»ä¸è¢«æ··æ·†</span><br><span class="line">-keep class * implements android.os.Parcelable &#123;</span><br><span class="line">  public static final android.os.Parcelable$Creator *;</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™æ‰€æœ‰çš„æœ¬åœ°nativeæ–¹æ³•ä¸è¢«æ··æ·†</span><br><span class="line">-keepclasseswithmembernames class * &#123;</span><br><span class="line">  native &lt;methods&gt;;</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™äº†ç»§æ‰¿è‡ªActivityã€Applicationè¿™äº›ç±»çš„å­ç±»</span><br><span class="line"># å› ä¸ºè¿™äº›å­ç±»éƒ½æœ‰å¯èƒ½è¢«å¤–éƒ¨è°ƒç”¨</span><br><span class="line"># æ¯”å¦‚è¯´, ç¬¬ä¸€è¡Œå°±ä¿è¯äº†æ‰€æœ‰Activityçš„å­ç±»ä¸è¦è¢«æ··æ·†</span><br><span class="line">-keep public class * extends android.app.Activity</span><br><span class="line">-keep public class * extends android.app.Application</span><br><span class="line">-keep public class * extends android.app.Service</span><br><span class="line">-keep public class * extends android.content.BroadcastReceiver</span><br><span class="line">-keep public class * extends android.content.ContentProvider</span><br><span class="line">-keep public class * extends android.app.backup.BackupAgentHelper</span><br><span class="line">-keep public class * extends android.preference.Preference</span><br><span class="line">-keep public class * extends android.view.View</span><br><span class="line">-keep public class com.android.vending.licensing.ILicensingService</span><br><span class="line"># å¦‚æœæœ‰å¼•ç”¨android-support-v4.jaråŒ…, å¯ä»¥æ·»åŠ ä¸‹é¢è¿™è¡Œ</span><br><span class="line">-keep public class com.tuniu.app.ui.fragment.** &#123;*;&#125;</span><br><span class="line"># ä¿ç•™åœ¨Activityä¸­çš„æ–¹æ³•å‚æ•°æ˜¯viewçš„æ–¹æ³•, </span><br><span class="line"># ä»è€Œæˆ‘ä»¬åœ¨layouté‡Œé¢ç¼–å†™onClickå°±ä¸ä¼šè¢«å½±å“</span><br><span class="line">-keepclassmembers class * extends android.app.Activity &#123;</span><br><span class="line">  public void *(android.view.View);</span><br><span class="line">&#125;</span><br><span class="line"># æšä¸¾ç±»ä¸èƒ½è¢«æ··æ·†</span><br><span class="line">-keepclassmembers enum * &#123;</span><br><span class="line">  public static **[] values();</span><br><span class="line">  public static ** valueOf(java.lang.String);</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™è‡ªå®šä¹‰æ§ä»¶(ç»§æ‰¿è‡ªView)ä¸è¢«æ··æ·†</span><br><span class="line">-keep public class * extends android.view.View &#123;</span><br><span class="line">  *** get*();</span><br><span class="line">  void set*(***);</span><br><span class="line">  public &lt;init&gt;(android.content.Context);</span><br><span class="line">  public &lt;init&gt;(android.content.Context, android.util.AttributeSet);</span><br><span class="line">  public &lt;init&gt;(android.content.Context, android.util.AttributeSet, int);</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™Parcelableåºåˆ—åŒ–çš„ç±»ä¸è¢«æ··æ·†</span><br><span class="line">-keep class * implements android.os.Parcelable &#123;</span><br><span class="line">  public static final android.os.Parcelable$Creator *;</span><br><span class="line">&#125;</span><br><span class="line"># ä¿ç•™Serializableåºåˆ—åŒ–çš„ç±»ä¸è¢«æ··æ·†</span><br><span class="line">-keepclassmembers class * implements java.io.Serializable &#123;</span><br><span class="line">  static final long serialVersionUID;</span><br><span class="line">  private static final java.io.ObjectStreamField[] serialPersistentFields;</span><br><span class="line">  private void writeObject(java.io.ObjectOutputStream);</span><br><span class="line">  private void readObject(java.io.ObjectInputStream);</span><br><span class="line">  java.lang.Object writeReplace();</span><br><span class="line">  java.lang.Object readResolve();</span><br><span class="line">&#125;</span><br><span class="line"># å¯¹äºR(èµ„æº)ä¸‹çš„æ‰€æœ‰ç±»åŠå…¶æ–¹æ³•, éƒ½ä¸èƒ½è¢«æ··æ·†</span><br><span class="line">-keep class **.R$* &#123;</span><br><span class="line">  *;</span><br><span class="line">&#125;</span><br><span class="line"># å¯¹äºå¸¦æœ‰å›è°ƒå‡½æ•°onXXEventçš„, ä¸èƒ½è¢«æ··æ·†</span><br><span class="line">-keepclassmembers class * &#123;</span><br><span class="line">  void *(**On*Event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<h5 id="æŒç»­é›†æˆ"><a href="#æŒç»­é›†æˆ" class="headerlink" title="æŒç»­é›†æˆ"></a>æŒç»­é›†æˆ</h5><ul>
<li>å…³äºgitåˆ†æ”¯çš„æµç¨‹ï¼Œä¹¦ä¸­ä»‹ç»äº†å‡ ç§ä¸åŒçš„æ–¹æ³•ä¸åœºæ™¯ï¼Œæ¯”è¾ƒå€¼å¾—è®¤å¯çš„æ˜¯ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯ä¸Šçº¿çš„ä¸€ç§ç­–ç•¥ã€‚</li>
<li>ä¸»å¹²å¼€å‘ï¼Œåˆ†æ”¯ä¸Šçº¿æ˜¯åœ¨ä¸»å¹²ä¸Šå¼€å‘æ–°åŠŸèƒ½ï¼Œæµ‹è¯•é˜¶æ®µæˆ–è€…ä¸Šä¸ªè¿­ä»£æ²¡å®Œæˆä¸‹ä¸ªå¼€å‘å‘¨æœŸåˆå¼€å§‹çš„æƒ…å†µä¸‹ï¼Œmergeåˆ°åˆ†æ”¯ä¸Šï¼Œç•™ä¸€éƒ¨åˆ†äººæ”¹bugæˆ–è€…å¼€å‘é—ç•™åŠŸèƒ½ï¼Œå¦ä¸€éƒ¨åˆ†åœ¨ä¸»å¹²ä¸Šå¼€å‘æ–°åŠŸèƒ½ï¼Œåˆ†æ”¯ä¸ŠåŠŸèƒ½å®Œæˆæ‰“åŒ…å‘ç‰ˆååˆå¹¶åˆ°ä¸»å¹²ä¸Šã€‚</li>
<li>åˆ†äº«ä¸€ä¸ªä»¥å‰åœ¨é—®é—®çš„æ—¶å€™ä»£ç æäº¤æµç¨‹ï¼šæ¯ä¸ªdeveloperåœ¨ä¸“å±è‡ªå·±çš„æœ¬åœ°åˆ†æ”¯å¼€å‘ï¼Œémasteræˆå‘˜ï¼ˆmasteræˆå‘˜æ‰æœ‰èµ„æ ¼æŠŠä»£ç mergeåˆ°ä¸»å¹²åˆ†æ”¯ï¼‰æ¯æ¬¡å¯¹masterå‘é€ä¸€ä¸ªmerge requestè€Œä¸æ˜¯pushï¼Œå¿…é¡»è¦masterè¿›è¡Œcode reviewåç”±masteråˆå¹¶ä»£ç ã€‚</li>
<li>antæ‰“åŒ…è‡ªè¡ŒæŸ¥é˜…<br><img src="/img/005/20170412-4.png" alt="Alt text"></li>
<li>å¦‚æœæœ‰MonkeyåŒ…ï¼Œå¯ä»¥åœ¨å…¨å±€å¸¸é‡ä¸­è®¾ç½®isMonKeyï¼Œè¿˜å¯ä»¥åœ¨Nçº§é¡µé¢ä¸­ç•™æš—é—¨ï¼Œæ¥æ§åˆ¶MonKeyå¯è¾¾çš„é¡µé¢ã€‚</li>
</ul>
<hr>
<h5 id="Appç«å“æŠ€æœ¯åˆ†æ"><a href="#Appç«å“æŠ€æœ¯åˆ†æ" class="headerlink" title="Appç«å“æŠ€æœ¯åˆ†æ"></a>Appç«å“æŠ€æœ¯åˆ†æ</h5><ul>
<li>APPæ‰“å¼€é€Ÿåº¦ä¼˜åŒ–å…³æ³¨ç‚¹</li>
</ul>
<ol>
<li>é—ªå±çš„ä¸‹è½½ç­–ç•¥</li>
<li>å¼•å¯¼åŠ¨ç”»çš„å¤æ‚åº¦ï¼Œå¼•å¯¼é¡µé¢çš„æ•°é‡</li>
<li>åŸå¸‚åˆ—è¡¨åŠ è½½ï¼ŒåŸå¸‚å®šä½</li>
<li>é¦–é¡µçš„å¤æ‚åº¦</li>
<li>æ‰“ç‚¹ç»Ÿè®¡ï¼Œæ¨é€ï¼Œå¼‚å¸¸æ•è·çš„å¤„ç†æœºåˆ¶</li>
<li>ä½¿ç”¨WireSharkæˆ–è€…fiddleræŠ“ç«å“åŒ…åˆ†æ</li>
</ol>
<ul>
<li>H5é¡µé¢æ‰“å¼€é€Ÿåº¦ä¼˜åŒ–å…³æ³¨ç‚¹</li>
</ul>
<ol>
<li>APPå†…æ”¾ä¸€ä¸ªåŒ…å«H5çš„ZIPåŒ…ï¼Œé¦–æ¬¡å¯åŠ¨è§£å‹ï¼Œæ ¹æ®ç‰ˆæœ¬å·åˆ¤æ–­ï¼Œæ»¡è¶³åˆ™åŠ è½½æœ¬åœ°ã€‚</li>
<li>è¿™ä¸ªZIPåŒ…å¯ä»¥æ˜¯APPåœ¨é€‚å½“ä½ç½®ä¸‹è½½çš„ã€‚</li>
<li>å¯ä»¥ä½¿ç”¨å¢é‡åŒ…çš„å½¢å¼ï¼Œä½†è¦ä¿è¯åŒ…ä¸å®œè¿‡å¤§ã€‚</li>
<li>å¼€å¯webviewç¼“å­˜</li>
<li>æ¯”è¾ƒæç«¯çš„åšæ³•ï¼Œå¯ä»¥åœ¨ä¸Šä¸€ä¸ªé¡µé¢åˆ›å»ºä¸€ä¸ªWebViewï¼Œè®©å®ƒé¢„å…ˆåŠ è½½è¿™ä¸ªURLï¼Œè¿™æ ·å°±èƒ½æå‰æŠŠHTML5é¡µé¢ç¼“å­˜åˆ°æœ¬åœ°ï¼Œä¸€å®šè¦è®°ä½ï¼Œè¦æŠŠè¿™ä¸ªWebViewè®¾ç½®ä¸ºä¸å¯è§ï¼Œå¦åˆ™å°±éœ²é¦…äº†ã€‚</li>
</ol>
<ul>
<li>APPå¤§å°ä¼˜åŒ–å…³æ³¨ç‚¹</li>
</ul>
<ol>
<li>å›¾ç‰‡è´¨é‡å¾€å¾€éƒ½æ˜¯ä¸å¿…è¦çš„è¿‡å¤§ï¼Œä¸€å®šè¦åˆç†æ§åˆ¶å‹ç¼©ï¼Œå°¤å…¶è¶…è¿‡1Mçš„ã€‚</li>
<li>éŸ³æ•ˆï¼ŒéŸ³é¢‘ä¹Ÿåº”è¯¥é€‰æ‹©åˆç†æ¯”ç‡å’Œé•¿åº¦ã€‚</li>
<li>splashå›¾ç‰‡å¯ä»¥ç”¨jpg,å…¶ä»–çš„å¯ä»¥ç”¨pngã€‚</li>
<li>googleçš„WebPæ ¼å¼å›¾ç‰‡å°¤å…¶æ˜¯å®‰å“å¯ä»¥å°è¯•ã€‚</li>
<li>å¤§å›¾å°½é‡ä½¿å…ƒç´ æ‹†åˆ†ã€‚</li>
<li>æŸäº›åœºæ™¯å›¾æ ‡å­—ä½“ç»å¯¹æ˜¯æœ€ä½³è§£å†³æ–¹æ¡ˆã€‚</li>
<li>å®šæœŸä½¿ç”¨lintæ¸…ç†æœªä½¿ç”¨çš„å›¾ç‰‡ï¼Œå½“ç„¶è¿˜æœ‰ä»£ç ä¸­çš„å„ç§ä¸è§„èŒƒã€‚</li>
</ol>
<ul>
<li>APPç½‘ç»œè¯·æ±‚æ€§èƒ½ä¼˜åŒ–å…³æ³¨ç‚¹</li>
</ul>
<ol>
<li>å¯¹äºæœ‰å¤šä¸ªçº¿ä¸ŠæœåŠ¡å™¨çš„ï¼Œæœ¬åœ°APPå¯ä»¥ç»´æŠ¤ä¸€ä¸ªæœåŠ¡å™¨åˆ—è¡¨ï¼Œå¹¶è‡ªåŠ¨é€‰æ‹©æœ€ä½³æœåŠ¡å™¨ã€‚</li>
<li>åˆšå¼€çš„æ—¶å€™ï¼Œéå†æ‰€æœ‰æœåŠ¡å™¨æ¥å£ï¼Œä¸€èˆ¬å¤šæ¬¡å–å¹³å‡å€¼ï¼Œè·å¾—æœ€ä¼˜çš„æœåŠ¡å™¨ä½¿ç”¨ï¼Œä¸€èˆ¬ä¸€æ®µæ—¶é—´åæ¯”å¦‚ä¸€ä¸ªå°æ—¶é‡æ–°éå†ã€‚</li>
<li>TCP+ProtoBufç­–ç•¥ä»£æ›¿HTTP+JSONï¼Œæ²¡è¯•è¿‡ï¼Œä¿ç•™ã€‚</li>
</ol>
<ul>
<li>çƒ­ä¿®è¡¥æ–¹æ¡ˆï¼Œå³H5å’Œnativeé¡µé¢é€šè¿‡åå°æ¥æ§åˆ¶åˆ°åº•æ˜¾ç¤ºé‚£ä¸ªï¼Œéœ€è¦æ³¨æ„é¡µé¢çš„å‡ºå…¥å£ï¼Œä¼ é€’çš„å‚æ•°ï¼Œæ‰“ç‚¹ç­‰ç­‰ã€‚å®Œå–„è¿˜æ˜¯éœ€è¦ä¸€å®šç§¯ç´¯çš„ã€‚</li>
<li>AndroLuaæœ‰æœºä¼šå¯ä»¥ç ”ç©¶ä¸‹ã€‚</li>
</ul>
<p>-æ ¹æ®Androidçš„META-INFzhuâ€™ruå¿«é€Ÿæ‰“æ¸ é“åŒ…ï¼Œç›´æ¥ä¸Šè„šæœ¬äº†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line">import shutil</span><br><span class="line">import os</span><br><span class="line">base_dir = &apos;/Users/Shared/&apos;</span><br><span class="line">apk_name = &apos;ChannelDemo&apos;</span><br><span class="line">apk_path = base_dir + apk_name + &apos;.apk&apos;</span><br><span class="line">empty_file = base_dir + &apos;baojianqiang&apos;</span><br><span class="line">f = open(empty_file, &apos;w&apos;)</span><br><span class="line">f.close()</span><br><span class="line">channel_file = base_dir + &apos;channel.txt&apos;</span><br><span class="line">f = open(channel_file)</span><br><span class="line">lines = f.readlines()</span><br><span class="line">f.close()</span><br><span class="line">output_dir = base_dir + &apos;output&apos;</span><br><span class="line">if not os.path.exists(output_dir)</span><br><span class="line">os.mkdir(output_dir)</span><br><span class="line">for line in lines</span><br><span class="line">target_channel = line.strip()</span><br><span class="line">target_apk = output_dir + &apos;/ChannelDemo_&apos; + target_channel + &apos;.apk&apos;</span><br><span class="line">shutil.copy(apk_path, target_apk)</span><br><span class="line">zipped = zipfile.ZipFile(target_apk, &apos;a&apos;, zipfile.ZIP_DEFLATED)</span><br><span class="line">empty_channel_file = &apos;META-INF/channel_&apos; + target_channel</span><br><span class="line">zipped.write(empty_file, empty_channel_file)</span><br><span class="line">zipped.close()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>è¿˜æœ‰ä¸€ä¸ªè·å¾—æ¸ é“å·çš„æ–¹æ³•<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">private String getChannel(Context context) &#123;</span><br><span class="line">  try &#123;</span><br><span class="line">    PackageManager pm = context.getPackageManager();</span><br><span class="line">    ApplicationInfo appInfo = pm.getApplicationInfo(</span><br><span class="line">      context.getPackageName(), PackageManager.GET_META_DATA);</span><br><span class="line">    return appInfo.metaData.getString(&quot;channel&quot;);</span><br><span class="line">  &#125; catch (PackageManager.NameNotFoundException ignored) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">  return &quot;&quot;;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³same4869@126.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">ğŸ’°</a>
</p>






    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    Â©2023-2024 Same
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







</html>
